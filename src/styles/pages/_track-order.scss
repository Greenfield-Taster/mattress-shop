@use "../variables" as v;

.track-order {
  background: v.$color-background;
  min-height: 100vh;
  padding: v.$spacing-12 0;

  @media (max-width: v.$breakpoint-sm) {
    padding: v.$spacing-6 0;
  }

  &__container {
    max-width: 700px;
    width: 100%;
    margin: 0 auto;
    padding: 0 v.$spacing-4;
  }

  &__header {
    text-align: center;
    margin-bottom: v.$spacing-8;
  }

  &__back {
    display: inline-flex;
    align-items: center;
    gap: v.$spacing-2;
    color: v.$color-text-secondary;
    font-size: v.$font-size-sm;
    margin-bottom: v.$spacing-6;
    transition: color v.$transition-fast;

    &:hover {
      color: v.$brand-primary-500;
    }
  }

  &__title {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: v.$spacing-3;
    font-size: v.$font-size-2xl;
    font-weight: v.$font-weight-bold;
    color: v.$color-text-primary;
    margin-bottom: v.$spacing-3;

    svg {
      color: v.$brand-primary-500;
    }

    @media (max-width: v.$breakpoint-sm) {
      font-size: v.$font-size-xl;

      svg {
        width: 28px;
        height: 28px;
      }
    }
  }

  &__subtitle {
    color: v.$color-text-secondary;
    font-size: v.$font-size-base;
  }

  &__form {
    display: flex;
    gap: v.$spacing-3;
    margin-bottom: v.$spacing-6;

    @media (max-width: v.$breakpoint-sm) {
      flex-direction: column;
    }
  }

  &__input-wrapper {
    flex: 1;
    position: relative;
  }

  &__input-icon {
    position: absolute;
    left: v.$spacing-4;
    top: 50%;
    transform: translateY(-50%);
    color: v.$color-text-tertiary;
    pointer-events: none;
  }

  &__input {
    width: 100%;
    padding: v.$spacing-4 v.$spacing-4 v.$spacing-4 v.$spacing-12;
    border: 2px solid v.$color-border;
    border-radius: v.$radius-md;
    font-size: v.$font-size-base;
    transition: border-color v.$transition-fast, box-shadow v.$transition-fast;

    &:focus {
      outline: none;
      border-color: v.$brand-primary-500;
      box-shadow: 0 0 0 3px rgba(v.$brand-primary-500, 0.1);
    }

    &::placeholder {
      color: v.$color-text-tertiary;
    }

    &:disabled {
      background: v.$neutral-100;
      cursor: not-allowed;
    }
  }

  &__submit {
    padding: v.$spacing-4 v.$spacing-8;
    background: v.$brand-primary-500;
    color: v.$neutral-0;
    border: none;
    border-radius: v.$radius-md;
    font-size: v.$font-size-base;
    font-weight: v.$font-weight-semibold;
    cursor: pointer;
    transition: background v.$transition-fast;
    white-space: nowrap;

    &:hover:not(:disabled) {
      background: v.$brand-primary-600;
    }

    &:disabled {
      background: v.$neutral-300;
      cursor: not-allowed;
    }
  }

  &__error {
    background: #fef2f2;
    border: 1px solid #fecaca;
    color: #dc2626;
    padding: v.$spacing-4;
    border-radius: v.$radius-md;
    margin-bottom: v.$spacing-6;
    text-align: center;
    font-size: v.$font-size-sm;
  }

  // Збережені замовлення
  &__saved {
    background: v.$neutral-0;
    border-radius: v.$radius-card;
    box-shadow: v.$shadow-card;
    padding: v.$spacing-6;
    margin-bottom: v.$spacing-6;
  }

  &__saved-title {
    font-size: v.$font-size-base;
    font-weight: v.$font-weight-semibold;
    color: v.$color-text-primary;
    margin-bottom: v.$spacing-4;
  }

  &__saved-list {
    display: flex;
    flex-direction: column;
    gap: v.$spacing-2;
  }

  &__saved-item {
    display: flex;
    align-items: center;
    gap: v.$spacing-3;
    padding: v.$spacing-3 v.$spacing-4;
    background: v.$neutral-50;
    border-radius: v.$radius-md;
    cursor: pointer;
    transition: background v.$transition-fast;

    &:hover {
      background: v.$brand-primary-50;
    }

    svg {
      color: v.$brand-primary-500;
      flex-shrink: 0;
    }

    span {
      flex: 1;
      font-size: v.$font-size-sm;
      color: v.$color-text-primary;
      font-weight: v.$font-weight-medium;
    }
  }

  &__saved-remove {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: v.$color-text-tertiary;
    border-radius: v.$radius-sm;
    cursor: pointer;
    transition: all v.$transition-fast;

    &:hover {
      background: #fef2f2;
      color: #dc2626;
    }
  }

  // Результат пошуку
  &__result {
    background: v.$neutral-0;
    border-radius: v.$radius-card;
    box-shadow: v.$shadow-card;
    padding: v.$spacing-6;
  }

  &__result-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: v.$spacing-4;
    margin-bottom: v.$spacing-6;
    padding-bottom: v.$spacing-4;
    border-bottom: 1px solid v.$color-border;

    @media (max-width: v.$breakpoint-sm) {
      flex-direction: column;
      align-items: flex-start;
      gap: v.$spacing-3;
    }
  }

  &__result-info {
    display: flex;
    flex-direction: column;
    gap: v.$spacing-1;
  }

  &__result-label {
    font-size: v.$font-size-sm;
    color: v.$color-text-secondary;
    font-weight: v.$font-weight-medium;
  }

  &__result-number {
    display: flex;
    align-items: center;
    gap: v.$spacing-2;

    strong {
      color: v.$brand-primary-600;
      font-size: v.$font-size-xl;
      font-weight: v.$font-weight-bold;
      user-select: text;
      -webkit-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      cursor: text !important;

      @media (max-width: v.$breakpoint-sm) {
        font-size: v.$font-size-lg;
      }
    }
  }

  &__copy-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border: none;
    background: v.$neutral-100;
    color: v.$color-text-secondary;
    border-radius: v.$radius-md;
    cursor: pointer;
    transition: all v.$transition-fast;
    flex-shrink: 0;

    &:hover {
      background: v.$brand-primary-50;
      color: v.$brand-primary-500;
    }

    &--copied {
      background: #dcfce7;
      color: #16a34a;

      &:hover {
        background: #dcfce7;
        color: #16a34a;
      }
    }
  }

  &__status {
    display: inline-flex;
    align-items: center;
    gap: v.$spacing-2;
    padding: v.$spacing-2 v.$spacing-4;
    border-radius: v.$radius-full;
    font-size: v.$font-size-sm;
    font-weight: v.$font-weight-medium;

    &--warning {
      background: #fef3c7;
      color: #d97706;
    }

    &--info {
      background: #dbeafe;
      color: #2563eb;
    }

    &--success {
      background: #dcfce7;
      color: #16a34a;
    }

    &--error {
      background: #fef2f2;
      color: #dc2626;
    }
  }

  &__result-details {
    margin-bottom: v.$spacing-6;
  }

  &__detail-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: v.$spacing-3 0;
    border-bottom: 1px solid v.$neutral-100;
    font-size: v.$font-size-sm;

    &:last-child {
      border-bottom: none;
    }

    span:first-child {
      color: v.$color-text-secondary;
    }

    span:last-child,
    strong {
      color: v.$color-text-primary;
      text-align: right;
      max-width: 60%;
    }
  }

  // Товари
  &__items {
    margin-bottom: v.$spacing-6;

    h4 {
      font-size: v.$font-size-sm;
      font-weight: v.$font-weight-semibold;
      color: v.$color-text-primary;
      margin-bottom: v.$spacing-4;
    }
  }

  &__items-list {
    display: flex;
    flex-direction: column;
    gap: v.$spacing-3;
  }

  &__item {
    display: flex;
    align-items: center;
    gap: v.$spacing-3;
    padding: v.$spacing-3;
    background: v.$neutral-50;
    border-radius: v.$radius-md;
  }

  &__item-image {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: v.$radius-sm;
    flex-shrink: 0;
  }

  &__item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: v.$spacing-1;
  }

  &__item-title {
    font-size: v.$font-size-sm;
    font-weight: v.$font-weight-medium;
    color: v.$color-text-primary;
  }

  &__item-size,
  &__item-qty {
    font-size: v.$font-size-xs;
    color: v.$color-text-secondary;
  }

  &__item-price {
    font-size: v.$font-size-sm;
    font-weight: v.$font-weight-semibold;
    color: v.$brand-primary-600;
    white-space: nowrap;
  }

  &__new-search {
    width: 100%;
    padding: v.$spacing-4;
    background: v.$neutral-100;
    color: v.$color-text-primary;
    border: 1px solid v.$neutral-200;
    border-radius: v.$radius-md;
    font-size: v.$font-size-sm;
    font-weight: v.$font-weight-medium;
    cursor: pointer;
    transition: all v.$transition-fast;

    &:hover {
      background: v.$neutral-200;
    }
  }
}
